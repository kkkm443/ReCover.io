<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>RE:COVER Enterprise Admin Pro</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

        :root {
            --brand: #4496F5;
            --brand-dark: #2980b9;
            --admin-dark: #2C3E50;
            --sidebar-width: 260px;
            --danger: #FF6B6B;
            --warning: #FF9F43;
            --success: #00D2BA;
            --bg: #F4F6F8;
            --text-main: #2c3e50;
            --text-sub: #7f8c8d;
        }

        * { box-sizing: border-box; }
        body { margin: 0; padding: 0; font-family: 'Pretendard', sans-serif; background: var(--bg); color: var(--text-main); display: flex; height: 100vh; overflow: hidden; }

        /* --- Login Screen --- */
        #login-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--admin-dark); z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .login-box { background: white; padding: 50px; border-radius: 20px; text-align: center; width: 400px; box-shadow: 0 20px 50px rgba(0,0,0,0.3); }
        .login-input { width: 100%; padding: 15px; margin: 20px 0; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; text-align: center; outline: none; transition: 0.3s; }
        .login-input:focus { border-color: var(--brand); }
        .login-btn { width: 100%; padding: 15px; background: var(--brand); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.2s; }
        .login-btn:hover { background: var(--brand-dark); }

        /* --- Sidebar --- */
        aside {
            width: var(--sidebar-width); background: var(--admin-dark); color: white;
            display: flex; flex-direction: column; flex-shrink: 0;
            box-shadow: 4px 0 10px rgba(0,0,0,0.05); z-index: 10;
        }
        .logo-area { padding: 30px; font-size: 22px; font-weight: 800; border-bottom: 1px solid rgba(255,255,255,0.1); letter-spacing: 1px; color: var(--brand); display: flex; align-items: center; gap: 10px; }
        .logo-area span { color: white; }
        
        .menu { flex: 1; padding: 20px 0; overflow-y: auto; }
        .menu-label { padding: 10px 30px; font-size: 11px; color: rgba(255,255,255,0.4); text-transform: uppercase; font-weight: bold; margin-top: 10px; }
        .menu-item {
            padding: 14px 30px; cursor: pointer; display: flex; align-items: center; gap: 15px;
            color: rgba(255,255,255,0.7); transition: 0.2s; text-decoration: none; font-size: 14px;
        }
        .menu-item:hover, .menu-item.active { background: rgba(255,255,255,0.1); color: white; border-right: 4px solid var(--brand); }
        .menu-item i { width: 20px; text-align: center; }

        /* [ìš”ì²­í•˜ì‹  ë¶€ë¶„] ì‚¬ì´ë“œë°” ë‚´ ë³´ì•ˆ ìƒíƒœ íŒ¨ë„ ìŠ¤íƒ€ì¼ */
        .security-status-box {
            margin: 15px 25px; 
            padding: 20px; 
            background: rgba(255,255,255,0.05); 
            border-radius: 12px; 
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }

        .sidebar-footer { padding: 25px; font-size: 12px; color: rgba(255,255,255,0.3); border-top: 1px solid rgba(255,255,255,0.1); }

        /* --- Main Content --- */
        main { flex: 1; overflow-y: auto; padding: 40px; position: relative; }
        
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .page-title { font-size: 26px; font-weight: 800; color: var(--admin-dark); }
        .header-controls { display: flex; gap: 20px; align-items: center; }
        .admin-profile { display: flex; align-items: center; gap: 12px; font-size: 14px; color: #555; background: white; padding: 8px 16px; border-radius: 30px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        .admin-avatar { width: 32px; height: 32px; background: #dfe6e9; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #636e72; }

        /* --- Common UI Components --- */
        .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 30px; }
        .grid-2 { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-bottom: 30px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px; }
        
        .card { background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.02); border: 1px solid rgba(0,0,0,0.03); transition: transform 0.2s; }
        .card:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.05); }
        
        .kpi-title { font-size: 13px; color: var(--text-sub); margin-bottom: 8px; font-weight: 600; display: flex; justify-content: space-between; }
        .kpi-value { font-size: 32px; font-weight: 800; color: var(--text-main); margin-bottom: 5px; }
        .kpi-trend { font-size: 13px; font-weight: 500; display: flex; align-items: center; gap: 5px; }
        .trend-up { color: var(--danger); }
        .trend-down { color: var(--success); }
        .trend-neutral { color: var(--text-sub); }

        .chart-container { height: 300px; position: relative; width: 100%; }
        
        .badge { padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: bold; }
        .badge-danger { background: #FFE5E5; color: #FF6B6B; }
        .badge-warning { background: #FFF3CD; color: #F39C12; }
        .badge-success { background: #E3FAFC; color: #00D2BA; }

        /* --- Report Section Specifics --- */
        .report-layout { display: flex; gap: 20px; height: calc(100vh - 150px); }
        .team-list { width: 250px; background: white; border-radius: 16px; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 5px; }
        .team-item { padding: 12px 15px; border-radius: 8px; cursor: pointer; transition: 0.2s; display: flex; justify-content: space-between; align-items: center; font-size: 14px; color: #555; }
        .team-item:hover { background: #f8f9fa; }
        .team-item.active { background: var(--brand); color: white; font-weight: bold; }
        .team-item.active .badge { background: rgba(255,255,255,0.2); color: white; }

        .report-detail { flex: 1; overflow-y: auto; padding-right: 5px; }
        .report-header { background: white; padding: 25px; border-radius: 16px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
        .team-score-box { text-align: center; padding: 0 20px; border-left: 1px solid #eee; }
        
        .action-bar { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-top: 20px; }
        .action-btn { background: white; border: 1px solid #eee; padding: 15px; border-radius: 12px; cursor: pointer; transition: 0.2s; text-align: center; display: flex; flex-direction: column; align-items: center; gap: 8px; color: #555; }
        .action-btn:hover { border-color: var(--brand); color: var(--brand); background: #f0f7ff; }
        .action-btn i { font-size: 20px; }

        /* --- Security Center Specifics --- */
        .sec-card { background: #1e272e; color: white; border: 1px solid #353b48; }
        .sec-card:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .sec-title { color: #dcdde1; font-size: 13px; margin-bottom: 10px; font-weight: bold; display: flex; align-items: center; gap: 8px; }
        .sec-value { font-size: 24px; font-weight: bold; color: #00D2BA; }
        
        .log-terminal {
            background: #000; color: #0f0; font-family: 'Courier New', monospace; padding: 15px; border-radius: 8px;
            height: 200px; overflow-y: auto; font-size: 12px; line-height: 1.6; border: 1px solid #333;
        }
        .log-entry { margin-bottom: 4px; display: flex; gap: 10px; }
        .log-time { color: #666; }
        .log-success { color: #0f0; }
        .log-fail { color: #ff0000; }
        .log-warn { color: #ffa500; }

        .lock-animation {
            width: 100%; height: 150px; background: #2f3640; border-radius: 8px; display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 15px;
        }
        .lock-icon-large { font-size: 40px; color: #00D2BA; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.1); opacity: 0.8; } 100% { transform: scale(1); opacity: 1; } }

        /* --- Settings Specifics --- */
        .settings-container { max-width: 800px; margin: 0 auto; }
        .setting-group { background: white; padding: 30px; border-radius: 16px; margin-bottom: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.02); }
        .group-title { font-size: 18px; font-weight: bold; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #eee; color: var(--admin-dark); }
        .setting-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .setting-label h4 { margin: 0 0 5px 0; font-size: 15px; color: #333; }
        .setting-label p { margin: 0; font-size: 13px; color: #888; }
        
        /* Toggle Switch */
        .toggle-switch { position: relative; width: 50px; height: 26px; background: #ccc; border-radius: 13px; cursor: pointer; transition: 0.3s; }
        .toggle-switch.on { background: var(--brand); }
        .toggle-knob { position: absolute; top: 3px; left: 3px; width: 20px; height: 20px; background: white; border-radius: 50%; transition: 0.3s; z-index: 2; }
        .toggle-switch.on .toggle-knob { transform: translateX(24px); }

        .toggle-switch.locked { cursor: not-allowed; opacity: 0.7; }
        .toggle-switch.locked i.lock-icon { position: absolute; left: 8px; top: 50%; transform: translateY(-50%); color: white; font-size: 12px; z-index: 1; }

        /* Password Input */
        .pw-input-group { display:none; flex-direction:column; gap:10px; align-items:flex-end; }
        .pw-input-group.show { display:flex; }
        .pw-field { padding:10px; border:1px solid #ddd; border-radius:6px; width:220px; font-size:14px; }

        /* Sections Visibility */
        .section { display: none; animation: fadeIn 0.4s ease-out; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    </style>
</head>
<body>

    <div id="login-screen">
        <div class="login-box">
            <div style="font-size:50px; margin-bottom:20px; color:var(--brand);">ğŸ¢</div>
            <h2 style="color:var(--admin-dark); margin-bottom: 10px;">RE:COVER Admin Pro</h2>
            <p style="color:#888; font-size:14px; margin-bottom: 30px;">ì¸ì‚¬ ë° ì•ˆì „ë³´ê±´ ë‹´ë‹¹ì ì „ìš© ë³´ì•ˆ ì ‘ì†</p>
            <input type="password" id="admin-pw" class="login-input" placeholder="ACCESS CODE (0000)">
            <button class="login-btn" onclick="checkLogin()">DASHBOARD LOGIN</button>
        </div>
    </div>

    <aside>
        <div class="logo-area">
            <i class="fas fa-heartbeat"></i> RE:<span>COVER</span>
        </div>
        <div class="menu">
            <div class="menu-label">Analytics (ì¡°ì§ í†µê³„)</div>
            <div class="menu-item active" onclick="showSection('dashboard', this)">
                <i class="fas fa-chart-pie"></i> ëŒ€ì‹œë³´ë“œ
            </div>
            <div class="menu-item" onclick="showSection('teams', this)">
                <i class="fas fa-users"></i> ì¡°ì§ ë¦¬í¬íŠ¸ & ì•¡ì…˜
            </div>
            
            <div class="menu-label">Security Center (ë³´ì•ˆ)</div>
            <div class="menu-item" onclick="showSection('security', this)">
                <i class="fas fa-shield-halved"></i> ë³´ì•ˆ ë° ìµëª…ì„± ê´€ë¦¬
            </div>

            <div class="menu-label">Security Status</div>
            <div class="security-status-box">
                <div style="display:flex; align-items:center; gap:8px; color:#00D2BA; font-size:13px; font-weight:bold; margin-bottom:8px;">
                    <i class="fas fa-shield-alt"></i> Zero-Knowledge
                </div>
                <p style="margin:0; font-size:11px; color:rgba(255,255,255,0.6); line-height:1.5; font-weight:300;">
                    ê°œì¸ ì‹ë³„ ë°ì´í„° ì ‘ê·¼ì´<br>ê¸°ìˆ ì ìœ¼ë¡œ ì°¨ë‹¨ëœ ìƒíƒœì…ë‹ˆë‹¤.
                </p>
            </div>

            <div class="menu-label">System</div>
            <div class="menu-item" onclick="showSection('settings', this)">
                <i class="fas fa-cog"></i> ì„¤ì •
            </div>
        </div>
        <div class="sidebar-footer">
            <b>Enterprise Plan</b><br>
            v 2.1.3 (Secure)<br>
            Last Login: Today 09:41
        </div>
    </aside>

    <main>
        <div class="header">
            <div>
                <div class="page-title" id="page-title">ì „ì‚¬ í˜„í™© ëŒ€ì‹œë³´ë“œ</div>
                <div style="font-size:13px; color:#888; margin-top:5px;">Real-time HR Risk Management System</div>
            </div>
            <div class="header-controls">
                <button onclick="window.location.reload()" style="background:white; border:1px solid #ddd; padding:8px 12px; border-radius:8px; cursor:pointer;"><i class="fas fa-sync-alt"></i></button>
                <div class="admin-profile">
                    <div class="admin-avatar">HR</div>
                    <span><b>ë°•ë¯¼í¬</b> (ì¸ì‚¬íŒ€ì¥)</span>
                </div>
            </div>
        </div>

        <div id="dashboard" class="section active">
            <div class="grid-4">
                <div class="card">
                    <div class="kpi-title">í‰ê·  ìŠ¤íŠ¸ë ˆìŠ¤ ì§€ìˆ˜ <i class="fas fa-info-circle"></i></div>
                    <div class="kpi-value" style="color:var(--danger);">78.2</div>
                    <div class="kpi-trend trend-up"><i class="fas fa-arrow-up"></i> 4.1 (ì „ì›” ëŒ€ë¹„)</div>
                </div>
                <div class="card">
                    <div class="kpi-title">ë²ˆì•„ì›ƒ ê³ ìœ„í—˜êµ° <i class="fas fa-exclamation-triangle"></i></div>
                    <div class="kpi-value">28ëª…</div>
                    <div class="kpi-trend trend-neutral">ì „ì²´ ì„ì§ì›ì˜ 14%</div>
                </div>
                <div class="card">
                    <div class="kpi-title">AI ìƒë‹´ í™œì„±ë„ <i class="fas fa-robot"></i></div>
                    <div class="kpi-value" style="color:var(--success);">92%</div>
                    <div class="kpi-trend trend-down"><i class="fas fa-arrow-up"></i> 12% (ì§€ì† ìƒìŠ¹)</div>
                </div>
                <div class="card">
                    <div class="kpi-title">ì „ì²´ ìµëª… ê²Œì‹œê¸€ <i class="fas fa-shield-alt"></i></div>
                    <div class="kpi-value" id="total-post-count">-</div>
                    <div class="kpi-trend trend-neutral">ì‹¤ì‹œê°„ ì§‘ê³„ (ë‚´ìš© ë¹„ê³µê°œ)</div>
                </div>
            </div>

            <div class="grid-2">
                <div class="card">
                    <div class="kpi-title" style="margin-bottom:20px;">
                        <span>íŒ€ë³„ ìŠ¤íŠ¸ë ˆìŠ¤ ì§€ìˆ˜ ë¹„êµ (í‰ê·  vs ìµœê³ )</span>
                        <select id="chart-period-select" onchange="updateMainChart(this.value)" style="border:1px solid #ddd; padding:4px; border-radius:4px; font-size:12px; cursor:pointer;">
                            <option value="1m">ìµœê·¼ 1ê°œì›”</option>
                            <option value="3m">ìµœê·¼ 3ê°œì›”</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="mainChart"></canvas>
                    </div>
                </div>
                
                <div class="card">
                    <div class="kpi-title" style="margin-bottom:15px; color:var(--danger);">ğŸš¨ ì‹¤ì‹œê°„ ë¦¬ìŠ¤í¬ ë ˆì´ë”</div>
                    <div style="display:flex; flex-direction:column; gap:10px; height:280px; overflow-y:auto;">
                        <div style="padding:15px; background:#fff5f5; border-radius:10px; border-left:4px solid var(--danger);">
                            <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                                <span style="font-weight:bold; color:#333;">ë§ˆì¼€íŒ… 2íŒ€</span>
                                <span class="badge badge-danger">CRITICAL</span>
                            </div>
                            <div style="font-size:12px; color:#666;">ì‹¬ë°• ê¸‰ì¦ ê°ì§€ (3ëª… ë™ì‹œ ë°œìƒ)</div>
                            <div style="font-size:11px; color:#999; margin-top:5px;">10ë¶„ ì „ ê°ì§€ë¨</div>
                        </div>
                        <div style="padding:15px; background:#fffbf0; border-radius:10px; border-left:4px solid var(--warning);">
                            <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                                <span style="font-weight:bold; color:#333;">ê°œë°œë³¸ë¶€ BíŒ€</span>
                                <span class="badge badge-warning">WARNING</span>
                            </div>
                            <div style="font-size:12px; color:#666;">í‰ê·  ì•¼ê·¼ ì‹œê°„ 40ì‹œê°„ ì´ˆê³¼</div>
                            <div style="font-size:11px; color:#999; margin-top:5px;">ì–´ì œ ê¸°ì¤€ ë°ì´í„°</div>
                        </div>
                        <div style="padding:15px; background:#f0fbff; border-radius:10px; border-left:4px solid var(--brand);">
                            <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                                <span style="font-weight:bold; color:#333;">í•´ì™¸ì˜ì—… 1íŒ€</span>
                                <span class="badge badge-success" style="color:var(--brand); background:#e3f2fd;">WATCH</span>
                            </div>
                            <div style="font-size:12px; color:#666;">ìŠ¤íŠ¸ë ˆìŠ¤ ì§€ìˆ˜ ì†Œí­ ìƒìŠ¹ ì¤‘</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="grid-2">
                <div class="card" style="border-left: 5px solid var(--success);">
                    <div class="kpi-title" style="margin-bottom:15px; display:flex; align-items:center; gap:8px;">
                        <i class="fas fa-user-secret" style="color:var(--admin-dark);"></i> 
                        <span>ëŒ€ë‚˜ë¬´ìˆ² ìµëª…ì„± ë³´ì•ˆ ìƒíƒœ</span>
                        <span class="badge badge-success" style="margin-left:auto;">SECURE</span>
                    </div>

                    <div style="display:flex; flex-direction:column; gap:15px;">
                        <div style="background:#F1F3F5; padding:12px; border-radius:8px; font-size:12px; color:#555; line-height:1.4;">
                            <i class="fas fa-lock"></i> <b>Zero-Knowledge ì•„í‚¤í…ì²˜:</b><br>
                            ì„œë²„ì— ì €ì¥ë˜ê¸° ì „ í´ë¼ì´ì–¸íŠ¸ë‹¨ì—ì„œ ì•”í˜¸í™”ë©ë‹ˆë‹¤. ê´€ë¦¬ìë„ ì›ë¬¸ ì—´ëŒì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
                        </div>

                        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
                            <div style="text-align:center; padding:10px; border:1px solid #eee; border-radius:8px;">
                                <div style="font-size:11px; color:#888;">ì˜¤ëŠ˜ ê²Œì‹œê¸€</div>
                                <div style="font-size:18px; font-weight:bold; color:var(--brand);">142ê±´</div>
                            </div>
                            <div style="text-align:center; padding:10px; border:1px solid #eee; border-radius:8px; background:#fff5f5;">
                                <div style="font-size:11px; color:#888;">AI ë¸”ë¼ì¸ë“œ</div>
                                <div style="font-size:18px; font-weight:bold; color:var(--danger);">3ê±´</div>
                            </div>
                        </div>
                        
                        <button onclick="showSection('security', document.querySelector('.menu-item:nth-child(4)'))" 
                                style="width:100%; padding:10px; border:1px solid var(--brand); background:white; color:var(--brand); border-radius:8px; font-weight:bold; cursor:pointer; font-size:12px;">
                            ë³´ì•ˆ ì„¼í„°ë¡œ ì´ë™í•˜ì—¬ ìƒì„¸ í™•ì¸ >
                        </button>
                    </div>
                </div>

                <div class="card">
                    <div class="kpi-title">ì„œë¹„ìŠ¤ ì´ìš© ì‹œê°„ëŒ€ ë¶„ì„</div>
                    <div class="chart-container" style="height:280px;">
                        <canvas id="timeChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="security" class="section">
            <div style="margin-bottom:20px; color: white; background: #2f3640; padding: 20px; border-radius: 16px; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h2 style="margin:0; margin-bottom:5px;">ğŸ›¡ï¸ Security & Privacy Center</h2>
                    <div style="font-size:13px; opacity:0.8;">Zero-Knowledge(ì˜ì§€ì‹) ì¦ëª… ê¸°ë°˜ ìµëª…ì„± ê´€ë¦¬ ì‹œìŠ¤í…œ</div>
                </div>
                <div style="text-align: right;">
                    <div style="font-size:12px; color:#00D2BA;">â— SYSTEM OPERATIONAL</div>
                    <div style="font-size:11px; color:#aaa;">Last Audit: 10 mins ago</div>
                </div>
            </div>

            <div class="grid-3">
                <div class="card sec-card">
                    <div class="sec-title"><i class="fas fa-fingerprint"></i> ì‹ë³„ì ì¶”ì  ë¶ˆê°€</div>
                    <div class="sec-value">100%</div>
                    <div style="font-size:12px; color:#7f8fa6; margin-top:5px;">ê°œì¸ ì‹ë³„ ì •ë³´(PII) í•´ì‹œ ì²˜ë¦¬ë¨</div>
                </div>
                <div class="card sec-card">
                    <div class="sec-title"><i class="fas fa-database"></i> DB ì•”í˜¸í™” ë ˆë²¨</div>
                    <div class="sec-value">AES-256</div>
                    <div style="font-size:12px; color:#7f8fa6; margin-top:5px;">Military-grade encryption</div>
                </div>
                <div class="card sec-card">
                    <div class="sec-title"><i class="fas fa-user-shield"></i> ê´€ë¦¬ì ì ‘ê·¼ ì°¨ë‹¨</div>
                    <div class="sec-value" style="color:#ff6b6b;">0ê±´</div>
                    <div style="font-size:12px; color:#7f8fa6; margin-top:5px;">ë¹„ì¸ê°€ ë°ì´í„° ì ‘ê·¼ ì‹œë„ ì—†ìŒ</div>
                </div>
            </div>

            <div class="grid-2">
                <div class="card sec-card">
                    <div class="sec-title" style="border-bottom:1px solid #353b48; padding-bottom:10px; margin-bottom:15px;">
                        <i class="fas fa-network-wired"></i> ì‹¤ì‹œê°„ ë°ì´í„° ì•”í˜¸í™” íŒŒì´í”„ë¼ì¸
                    </div>
                    <div class="lock-animation">
                        <i class="fas fa-lock lock-icon-large"></i>
                        <div style="font-size:14px; color:#dcdde1; font-weight:bold;">ENCRYPTION ACTIVE</div>
                        <div style="font-size:11px; color:#7f8fa6; text-align:center;">
                            User Input â†’ [SHA-256 Hash] â†’ Client Encrypt â†’<br>
                            Network (SSL/TLS) â†’ Server Storage (Blind)
                        </div>
                    </div>
                    <div style="margin-top:20px; padding:10px; background:rgba(0, 210, 186, 0.1); border-radius:8px; font-size:12px; color:#00D2BA;">
                        <i class="fas fa-check-circle"></i> <b>ì¦ëª…:</b> ê´€ë¦¬ìëŠ” í˜„ì¬ ëŒ€ë‚˜ë¬´ìˆ² ë°ì´í„°ë² ì´ìŠ¤ì˜ 'Content' í•„ë“œë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ê¶Œí•œ í‚¤(Key)ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.
                    </div>
                </div>

                <div class="card sec-card">
                    <div class="sec-title" style="border-bottom:1px solid #353b48; padding-bottom:10px; margin-bottom:15px;">
                        <i class="fas fa-terminal"></i> ë³´ì•ˆ ê°ì‚¬ ë¡œê·¸ (Audit Log)
                    </div>
                    <div class="log-terminal" id="security-log">
                        <div class="log-entry"><span class="log-time">[09:40:01]</span> <span class="log-success">System Check: Encryption keys rotated.</span></div>
                        <div class="log-entry"><span class="log-time">[09:40:15]</span> <span class="log-success">New Post ID #8821 created (Blind Indexing).</span></div>
                        <div class="log-entry"><span class="log-time">[09:41:00]</span> <span class="log-warn">Auth: Admin login from 192.168.1.1</span></div>
                        <div class="log-entry"><span class="log-time">[09:41:05]</span> <span class="log-fail">Block: Attempt to decrypt user_id (Permission Denied).</span></div>
                        <div class="log-entry"><span class="log-time">[09:41:22]</span> <span class="log-success">Database backup completed (Encrypted format).</span></div>
                    </div>
                </div>
            </div>

            <div class="card sec-card" style="border-color: #e84118;">
                <div class="sec-title" style="color:#e84118; border-bottom:1px solid #e84118; padding-bottom:10px; margin-bottom:15px;">
                    <i class="fas fa-skull"></i> EMERGENCY ZONE (ë¹„ìƒ ëŒ€ì‘)
                </div>
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div style="font-size:13px; color:#dcdde1;">
                        <b>ê¸´ê¸‰ ë°ì´í„° ì†Œê° (Kill Switch):</b><br>
                        ì„œë²„ ì¹¨ì… ê°ì§€ ì‹œ ëª¨ë“  ì„¸ì…˜ í‚¤ë¥¼ íŒŒê¸°í•˜ê³  DB ì—°ê²°ì„ ë¬¼ë¦¬ì ìœ¼ë¡œ ì°¨ë‹¨í•©ë‹ˆë‹¤. ë³µêµ¬ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
                    </div>
                    <button onclick="if(confirm('ğŸš¨ ì •ë§ ë¹„ìƒ ì°¨ë‹¨ì„ ì‹¤í–‰í•©ë‹ˆê¹Œ? ì„œë¹„ìŠ¤ê°€ ì¦‰ì‹œ ì¤‘ë‹¨ë©ë‹ˆë‹¤.')) alert('Emergency Protocol Initiated. Connection Terminated.')" 
                            style="background:#e84118; color:white; border:none; padding:12px 20px; border-radius:8px; font-weight:bold; cursor:pointer;">
                        ACTIVATE KILL SWITCH
                    </button>
                </div>
            </div>
        </div>

        <div id="teams" class="section">
            <div class="report-layout">
                <div class="team-list">
                    <div style="padding:10px; font-size:12px; color:#888;">ëŒ€ìƒ ì¡°ì§ ì„ íƒ</div>
                    <div class="team-item active" onclick="selectTeam('mkt2', this)">
                        ë§ˆì¼€íŒ… 2íŒ€ <span class="badge badge-danger">ìœ„í—˜</span>
                    </div>
                    <div class="team-item" onclick="selectTeam('dev_b', this)">
                        ê°œë°œë³¸ë¶€ BíŒ€ <span class="badge badge-warning">ì£¼ì˜</span>
                    </div>
                    <div class="team-item" onclick="selectTeam('sales', this)">
                        ì˜ì—…íŒ€ <span class="badge badge-warning">ì£¼ì˜</span>
                    </div>
                    <div class="team-item" onclick="selectTeam('mkt1', this)">
                        ë§ˆì¼€íŒ… 1íŒ€ <span class="badge badge-success">ì–‘í˜¸</span>
                    </div>
                    <div class="team-item" onclick="selectTeam('hr', this)">
                        ì¸ì‚¬íŒ€ <span class="badge badge-success">ì–‘í˜¸</span>
                    </div>
                    <div class="team-item" onclick="selectTeam('dev_a', this)">
                        ê°œë°œ AíŒ€ <span class="badge badge-success">ì–‘í˜¸</span>
                    </div>
                </div>

                <div class="report-detail">
                    <div class="report-header">
                        <div>
                            <h2 style="margin:0; margin-bottom:5px; color:var(--admin-dark);" id="rpt-team-name">ë§ˆì¼€íŒ… 2íŒ€</h2>
                            <span style="font-size:13px; color:#888;">ìµœê·¼ ì—…ë°ì´íŠ¸: 2026.01.08 14:00</span>
                        </div>
                        <div style="display:flex;">
                            <div class="team-score-box">
                                <div style="font-size:12px; color:#888; margin-bottom:5px;">ìŠ¤íŠ¸ë ˆìŠ¤ ì§€ìˆ˜</div>
                                <div style="font-size:24px; font-weight:bold; color:var(--danger);" id="rpt-stress-val">88.4</div>
                            </div>
                            <div class="team-score-box">
                                <div style="font-size:12px; color:#888; margin-bottom:5px;">ìƒë‹´ ìš”ì²­</div>
                                <div style="font-size:24px; font-weight:bold;" id="rpt-consult-val">12ê±´</div>
                            </div>
                            <div class="team-score-box" style="border:none;">
                                <div style="font-size:12px; color:#888; margin-bottom:5px;">í‰ê·  ìˆ˜ë©´</div>
                                <div style="font-size:24px; font-weight:bold;" id="rpt-sleep-val">5.2h</div>
                            </div>
                        </div>
                    </div>

                    <div class="grid-2">
                        <div class="card">
                            <div class="kpi-title">ì›”ê°„ ìŠ¤íŠ¸ë ˆìŠ¤ & ë²ˆì•„ì›ƒ ì¶”ì´</div>
                            <div class="chart-container" style="height:250px;">
                                <canvas id="teamTrendChart"></canvas>
                            </div>
                        </div>
                        <div class="card">
                            <div class="kpi-title">ì£¼ìš” ìŠ¤íŠ¸ë ˆìŠ¤ ì›ì¸ (í‚¤ì›Œë“œ)</div>
                            <div class="chart-container" style="height:250px;">
                                <canvas id="teamKeywordChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="card" style="margin-bottom:20px; border-left:5px solid #6c5ce7;">
                        <div class="kpi-title" style="color:#6c5ce7; margin-bottom:10px;"><i class="fas fa-robot"></i> AI ì¡°ì§ ê´€ë¦¬ì ì½”ë©˜íŠ¸</div>
                        <p style="font-size:14px; line-height:1.6; color:#444; margin:0;" id="rpt-ai-comment">
                            "ë§ˆì¼€íŒ… 2íŒ€ì€ ìµœê·¼ ì‹ ê·œ í”„ë¡œì íŠ¸ ëŸ°ì¹­ìœ¼ë¡œ ì¸í•´ <b>'ì—…ë¬´ ê³¼ë¶€í•˜'</b>ì™€ <b>'ìˆ˜ë©´ ë¶€ì¡±'</b> í‚¤ì›Œë“œê°€ ê¸‰ì¦í–ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì›”ìš”ì¼ ì˜¤ì „ì— ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ì§‘ì¤‘ë˜ëŠ” ê²½í–¥ì´ ìˆì–´, ì£¼ê°„ íšŒì˜ë¥¼ ì„œë©´ìœ¼ë¡œ ëŒ€ì²´í•˜ê±°ë‚˜ ì˜¤í›„ë¡œ ì‹œê°„ì„ ë³€ê²½í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤."
                        </p>
                    </div>

                    <div class="kpi-title" style="margin-bottom:15px;">ê´€ë¦¬ì ëŒ€ì‘ ì•¡ì…˜ (Management Actions)</div>
                    <div class="action-bar">
                        <div class="action-btn" onclick="alert('ì „ì‚¬ 1ì‹œê°„ ì¡°ê¸° í‡´ê·¼ ìŠ¹ì¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\ní•´ë‹¹ íŒ€ì—ê²Œ í‘¸ì‹œ ì•Œë¦¼ì´ ë°œì†¡ë©ë‹ˆë‹¤.')">
                            <i class="fas fa-running" style="color:#FF6B6B;"></i>
                            <b>ì¡°ê¸° í‡´ê·¼ ìŠ¹ì¸</b>
                            <span style="font-size:11px; color:#999;">ì¦‰ì‹œ ë³´ìƒ</span>
                        </div>
                        <div class="action-btn" onclick="alert('ì»¤í”¼ì°¨/ê°„ì‹ ë°°ë‹¬ ì‹ ì²­ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.')">
                            <i class="fas fa-coffee" style="color:#e67e22;"></i>
                            <b>íŒ€ ê¸°í”„íŠ¸ ë°œì†¡</b>
                            <span style="font-size:11px; color:#999;">ë¶„ìœ„ê¸° í™˜ê¸°</span>
                        </div>
                        <div class="action-btn" onclick="alert('ì „ë¬¸ê°€ ë°©ë¬¸ ìƒë‹´ ì¼ì •ì„ ì¡°ìœ¨í•©ë‹ˆë‹¤.')">
                            <i class="fas fa-user-md" style="color:#2ecc71;"></i>
                            <b>ì°¾ì•„ê°€ëŠ” ìƒë‹´</b>
                            <span style="font-size:11px; color:#999;">ê³ ìœ„í—˜êµ° ì¼€ì–´</span>
                        </div>
                        <div class="action-btn" onclick="downloadReport()">
                            <i class="fas fa-file-pdf" style="color:#3498db;"></i>
                            <b>ë¦¬í¬íŠ¸ ë‹¤ìš´ë¡œë“œ</b>
                            <span style="font-size:11px; color:#999;">ë³´ê³ ìš© ìë£Œ</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="settings" class="section">
            <div class="settings-container">
                
                <div class="setting-group">
                    <div class="group-title">ìœ„í—˜ ê°ì§€ ë° ì•Œë¦¼ ì„¤ì •</div>
                    
                    <div class="setting-row">
                        <div class="setting-label">
                            <h4>ê³ ìœ„í—˜êµ° ì‹¤ì‹œê°„ ì•Œë¦¼</h4>
                            <p>ìŠ¤íŠ¸ë ˆìŠ¤ ì§€ìˆ˜ 85 ì´ìƒ ë˜ëŠ” ì‹¬ë°• ê¸‰ì¦ ê°ì§€ ì‹œ ê´€ë¦¬ìì—ê²Œ ì¦‰ì‹œ ì•Œë¦¼</p>
                        </div>
                        <div class="toggle-switch on" onclick="toggleSwitch(this)"><div class="toggle-knob"></div></div>
                    </div>

                    <div class="setting-row">
                        <div class="setting-label">
                            <h4>ìœ„í—˜ ë‹¨ê³„ ê¸°ì¤€ê°’ ì¡°ì • (Threshold)</h4>
                            <p>í˜„ì¬ ì„¤ì •: 80ì  ì´ìƒ ì‹œ 'ìœ„í—˜(Critical)'ìœ¼ë¡œ ë¶„ë¥˜</p>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <input type="range" min="60" max="95" value="80" oninput="updateRangeDisplay(this.value)">
                            <span id="range-val" style="font-weight:bold; color:var(--brand); font-size:18px; width:30px; text-align:right;">80</span>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="group-title">ë°ì´í„° ë³´ì•ˆ ë° í”„ë¼ì´ë²„ì‹œ</div>
                    
                    <div class="setting-row">
                        <div class="setting-label">
                            <h4>ìµëª…ì„± ê°•í™” ëª¨ë“œ (Zero-Knowledge)</h4>
                            <p>í™œì„±í™” ì‹œ, ê´€ë¦¬ìë„ ê°œë³„ ì§ì›ì˜ IDì™€ êµ¬ì²´ì ì¸ ìƒë‹´ ë‚´ìš©ì„ ë³¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                        </div>
                        <div class="toggle-switch on locked" onclick="alert('ì´ ì„¤ì •ì€ ë³´ì•ˆ ì •ì±…ìƒ í•´ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')">
                            <i class="fas fa-lock lock-icon"></i>
                            <div class="toggle-knob"></div>
                        </div>
                    </div>

                    <div class="setting-row">
                        <div class="setting-label">
                            <h4>ê´€ë¦¬ì ì ‘ì† 2ë‹¨ê³„ ì¸ì¦ (2FA)</h4>
                            <p>ë¡œê·¸ì¸ ì‹œ ì´ë©”ì¼ ë˜ëŠ” ë¬¸ìë¡œ ì¸ì¦ ì½”ë“œë¥¼ ìš”ì²­í•©ë‹ˆë‹¤.</p>
                        </div>
                        <div class="toggle-switch" onclick="toggleSwitch(this)"><div class="toggle-knob"></div></div>
                    </div>
                </div>

                <div class="setting-group">
                    <div class="group-title">ê³„ì • ë° ì‹œìŠ¤í…œ ê´€ë¦¬</div>
                    <div class="setting-row" style="align-items: flex-start;">
                        <div class="setting-label">
                            <h4>ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h4>
                            <p>ì •ê¸°ì ì¸ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ì„ ê¶Œì¥í•©ë‹ˆë‹¤. (ê¸°ë³¸ê°’: 0000)</p>
                        </div>
                        <div style="text-align: right;">
                            <button id="btn-toggle-pw" onclick="togglePwForm()" style="padding:8px 15px; border:1px solid #ddd; background:white; border-radius:6px; cursor:pointer; color:#333;">ë³€ê²½í•˜ê¸°</button>
                            
                            <div id="pw-form" class="pw-input-group" style="margin-top:10px;">
                                <input type="password" id="new-pw-input" class="pw-field" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥">
                                <div style="margin-top:5px;">
                                    <button onclick="togglePwForm()" style="padding:6px 10px; background:#eee; border:none; border-radius:4px; cursor:pointer;">ì·¨ì†Œ</button>
                                    <button onclick="saveNewPw()" style="padding:6px 10px; background:var(--brand); color:white; border:none; border-radius:4px; cursor:pointer;">ì €ì¥</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="setting-row">
                        <div class="setting-label">
                            <h4>ê´€ë¦¬ì ì¶”ê°€ ë“±ë¡</h4>
                            <p>ìƒˆë¡œìš´ HR ë‹´ë‹¹ìë¥¼ ê´€ë¦¬ìë¡œ ì´ˆëŒ€í•©ë‹ˆë‹¤.</p>
                        </div>
                        <button style="padding:8px 15px; border:1px solid #ddd; background:white; border-radius:6px; cursor:pointer; color:#333;">ì´ˆëŒ€í•˜ê¸°</button>
                    </div>
                </div>

            </div>
        </div>

    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, query, onSnapshot, getDocs, where } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Firebase Config (ê¸°ì¡´ê³¼ ë™ì¼)
        const firebaseConfig = {
            apiKey: "AIzaSyDgbxh4Q0uCwHglA23BZLw9CRAW2TLefEY",
            authDomain: "re-cover-67c0d.firebaseapp.com",
            projectId: "re-cover-67c0d",
            storageBucket: "re-cover-67c0d.firebasestorage.app",
            messagingSenderId: "138248073056",
            appId: "1:138248073056:web:fa5f6aba115438bb2df805",
            measurementId: "G-1PVC9CWHCB"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Community Count
        window.initCommunityStats = () => {
            const q = query(collection(db, "posts"));
            onSnapshot(q, (snapshot) => {
                const count = snapshot.size;
                const el = document.getElementById('total-post-count');
                if(el) el.innerText = count.toLocaleString() + "ê±´";
            });
        };
        
        window.fetchRealData = async () => {
            console.log("Fetching Real-time Analysis Data...");
        };

        window.initCommunityStats();
    </script>

    <script>
        // --- Global Variables ---
        let currentAdminPw = "0000"; // ë¹„ë°€ë²ˆí˜¸ ë³€ìˆ˜

        // --- Navigation Logic ---
        function showSection(id, btn) {
            document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            
            // ì‚¬ì´ë“œë°” active ì²˜ë¦¬ (ë³´ì•ˆ íŒ¨ë„ì€ í´ë¦­ ë¶ˆê°€ ìš”ì†Œì´ë¯€ë¡œ ì œì™¸)
            if(btn && btn.classList.contains('menu-item')) {
                document.querySelectorAll('.menu-item').forEach(el => el.classList.remove('active'));
                btn.classList.add('active');
            }

            const titles = { 
                'dashboard': 'ì „ì‚¬ í˜„í™© ëŒ€ì‹œë³´ë“œ', 
                'teams': 'ì¡°ì§ë³„ ìƒì„¸ ë¦¬í¬íŠ¸',
                'security': 'ë³´ì•ˆ ë° ìµëª…ì„± ê´€ë¦¬',
                'settings': 'í™˜ê²½ ì„¤ì •'
            };
            document.getElementById('page-title').innerText = titles[id];
        }

        // --- Auth & Security Logic ---
        function checkLogin() {
            const pwInput = document.getElementById('admin-pw');
            if(pwInput.value === currentAdminPw) {
                document.getElementById('login-screen').style.display = 'none';
                initCharts(); // ë¡œê·¸ì¸ í›„ ì°¨íŠ¸ ë¡œë”©
                startLogSimulation(); // ë³´ì•ˆ ë¡œê·¸ ì‹œë®¬ë ˆì´ì…˜ ì‹œì‘
            } else {
                alert("ACCESS DENIED: ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                pwInput.value = '';
            }
        }

        document.getElementById('admin-pw').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') checkLogin();
        });

        // ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ê¸°ëŠ¥
        function togglePwForm() {
            const form = document.getElementById('pw-form');
            const btn = document.getElementById('btn-toggle-pw');
            
            if(form.classList.contains('show')) {
                form.classList.remove('show');
                btn.style.display = 'block';
            } else {
                form.classList.add('show');
                btn.style.display = 'none';
            }
        }

        function saveNewPw() {
            const newPw = document.getElementById('new-pw-input').value;
            if(newPw.length < 4) {
                alert("ë¹„ë°€ë²ˆí˜¸ëŠ” 4ìë¦¬ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
                return;
            }
            currentAdminPw = newPw;
            alert("ë¹„ë°€ë²ˆí˜¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.\në‹¤ìŒ ë¡œê·¸ì¸ë¶€í„° ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.");
            togglePwForm();
            document.getElementById('new-pw-input').value = '';
        }

        // ì„¤ì • ìŠ¬ë¼ì´ë” í‘œì‹œ ê¸°ëŠ¥
        function updateRangeDisplay(val) {
            document.getElementById('range-val').innerText = val;
        }

        function toggleSwitch(el) {
            // locked í´ë˜ìŠ¤ê°€ ìˆëŠ” ê²½ìš° ìŠ¤ìœ„ì¹˜ ë™ì‘ ë§‰ìŒ (í´ë¦­ ì´ë²¤íŠ¸ëŠ” HTMLì˜ onclick Alertê°€ ì²˜ë¦¬)
            if(el.classList.contains('locked')) return;
            el.classList.toggle('on');
        }

        // [ì‹ ê·œ] PDF ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
        window.downloadReport = async () => {
            const element = document.querySelector('.report-detail');
            // ë¡œë”© í‘œì‹œ
            alert("ë¦¬í¬íŠ¸ ìƒì„± ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...");
            
            try {
                const canvas = await html2canvas(element, { scale: 2, useCORS: true });
                const imgData = canvas.toDataURL('image/png');
                
                const { jsPDF } = window.jspdf;
                const pdf = new jsPDF('p', 'mm', 'a4');
                const imgProps = pdf.getImageProperties(imgData);
                const pdfWidth = pdf.internal.pageSize.getWidth();
                const pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;
                
                pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
                
                const teamName = document.getElementById('rpt-team-name').innerText;
                pdf.save(`RECOVER_Report_${teamName}.pdf`);
            } catch (e) {
                console.error(e);
                alert("ë¦¬í¬íŠ¸ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
            }
        };

        // [ì‹ ê·œ] ë³´ì•ˆ ë¡œê·¸ ì‹œë®¬ë ˆì´ì…˜
        function startLogSimulation() {
            const logs = [
                { type: 'success', text: 'Encrypted heartbeat received from User_A' },
                { type: 'success', text: 'Post #9902 stored (Key: ****)' },
                { type: 'warn', text: 'API Rate limit close for IP **.*.*.**' },
                { type: 'fail', text: 'Blocked unauthorized query on Table: Chats' },
                { type: 'success', text: 'Integrity check passed.' }
            ];
            const logBox = document.getElementById('security-log');

            setInterval(() => {
                const randomLog = logs[Math.floor(Math.random() * logs.length)];
                const time = new Date().toLocaleTimeString();
                const entry = document.createElement('div');
                entry.className = 'log-entry';
                entry.innerHTML = `<span class="log-time">[${time}]</span> <span class="log-${randomLog.type}">${randomLog.text}</span>`;
                
                logBox.appendChild(entry);
                logBox.scrollTop = logBox.scrollHeight;
                
                if(logBox.children.length > 20) logBox.removeChild(logBox.firstChild);
            }, 3500);
        }

        // --- Chart & Data Logic ---
        let mainChart, timeChart, teamTrendChart, teamKeywordChart;

        // ë©”ì¸ ëŒ€ì‹œë³´ë“œ ì°¨íŠ¸ ë°ì´í„° (1ê°œì›” vs 3ê°œì›”)
        const mainChartDataSets = {
            '1m': [65, 88, 52, 74, 42, 70],
            '3m': [60, 82, 55, 70, 45, 68]
        };

        // íŒ€ë³„ ë”ë¯¸ ë°ì´í„°
        const teamData = {
            'mkt2': { 
                name: 'ë§ˆì¼€íŒ… 2íŒ€', stress: 88.4, consult: '12ê±´', sleep: '5.2h',
                trend: [72, 80, 85, 88], 
                keywords: [30, 15, 45, 5, 5],
                comment: "ë§ˆì¼€íŒ… 2íŒ€ì€ ìµœê·¼ ì‹ ê·œ í”„ë¡œì íŠ¸ ëŸ°ì¹­ìœ¼ë¡œ ì¸í•´ <b>'ì—…ë¬´ ê³¼ë¶€í•˜'</b>ì™€ <b>'ìˆ˜ë©´ ë¶€ì¡±'</b> í‚¤ì›Œë“œê°€ ê¸‰ì¦í–ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì›”ìš”ì¼ ì˜¤ì „ì— ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ì§‘ì¤‘ë˜ëŠ” ê²½í–¥ì´ ìˆì–´, ì£¼ê°„ íšŒì˜ë¥¼ ì„œë©´ìœ¼ë¡œ ëŒ€ì²´í•˜ê±°ë‚˜ ì˜¤í›„ë¡œ ì‹œê°„ì„ ë³€ê²½í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤."
            },
            'dev_b': { 
                name: 'ê°œë°œë³¸ë¶€ BíŒ€', stress: 74.1, consult: '8ê±´', sleep: '5.8h',
                trend: [65, 70, 72, 74], 
                keywords: [40, 20, 25, 10, 5],
                comment: "ê°œë°œë³¸ë¶€ BíŒ€ì€ <b>'ì•¼ê·¼/í”¼ë¡œ'</b> ì§€ìˆ˜ê°€ ë†’ê²Œ ë‚˜íƒ€ë‚˜ê³  ìˆìŠµë‹ˆë‹¤. ì¦ì€ ë°°í¬ ì¼ì •ìœ¼ë¡œ ì¸í•œ í”¼ë¡œ ëˆ„ì ìœ¼ë¡œ ë³´ì´ë©°, í”„ë¡œì íŠ¸ ì¢…ë£Œ í›„ <b>'ë¦¬í”„ë ˆì‹œ íœ´ê°€'</b> ì‚¬ìš© ë…ë ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤."
            },
            'sales': { 
                name: 'ì˜ì—…íŒ€', stress: 70.5, consult: '15ê±´', sleep: '6.0h',
                trend: [60, 65, 75, 70], 
                keywords: [50, 20, 10, 10, 10],
                comment: "ì˜ì—…íŒ€ì€ <b>'ê´€ê³„ ê°ˆë“±'</b> ë° <b>'ì‹¤ì  ì••ë°•'</b>ì´ ì£¼ìš” ìŠ¤íŠ¸ë ˆìŠ¤ ìš”ì¸ì…ë‹ˆë‹¤. íŒ€ ì°¨ì›ì˜ íšŒì‹ë³´ë‹¤ëŠ” ê°œë³„ì ì¸ <b>'ì‹¬ë¦¬ ìƒë‹´ ë°”ìš°ì²˜'</b> ì§€ê¸‰ì´ ë” íš¨ê³¼ì ì¼ ê²ƒìœ¼ë¡œ ë¶„ì„ë©ë‹ˆë‹¤."
            },
            'mkt1': { 
                name: 'ë§ˆì¼€íŒ… 1íŒ€', stress: 65.2, consult: '4ê±´', sleep: '6.5h',
                trend: [58, 62, 60, 65], 
                keywords: [35, 25, 20, 10, 10],
                comment: "ì „ë°˜ì ìœ¼ë¡œ ì•ˆì •ì ì¸ ìˆ˜ì¹˜ë¥¼ ë³´ì´ê³  ìˆìœ¼ë‚˜, ìµœê·¼ ì†Œí­ ìƒìŠ¹ ì¶”ì„¸ì…ë‹ˆë‹¤. ì§€ì†ì ì¸ ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•©ë‹ˆë‹¤."
            },
            'hr': { 
                name: 'ì¸ì‚¬íŒ€', stress: 42.0, consult: '2ê±´', sleep: '7.1h',
                trend: [45, 40, 42, 42], 
                keywords: [15, 35, 10, 20, 20],
                comment: "ê°€ì¥ ì•ˆì •ì ì¸ ì¡°ì§ì…ë‹ˆë‹¤. í˜„ì¬ì˜ ì¡°ì§ ë¬¸í™”ë¥¼ ìœ ì§€í•˜ë©° íƒ€ íŒ€ì˜ ë²¤ì¹˜ë§ˆí‚¹ ì‚¬ë¡€ë¡œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
            },
            'dev_a': { 
                name: 'ê°œë°œ AíŒ€', stress: 52.8, consult: '5ê±´', sleep: '6.8h',
                trend: [55, 50, 48, 52], 
                keywords: [20, 10, 15, 25, 30],
                comment: "ì•ˆì •ì ì…ë‹ˆë‹¤. ê°œì¸ì ì¸ ì»¤ë¦¬ì–´ ê³ ë¯¼ì— ëŒ€í•œ í‚¤ì›Œë“œê°€ ì¼ë¶€ ê°ì§€ë˜ë¯€ë¡œ, ì§ë¬´ êµìœ¡ ì§€ì›ì„ ê²€í† í•´ë³´ì„¸ìš”."
            }
        };

        // íŒ€ ì„ íƒ ê¸°ëŠ¥
        window.selectTeam = (key, el) => {
            // UI Active ì²˜ë¦¬
            document.querySelectorAll('.team-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');

            // ë°ì´í„° ì—…ë°ì´íŠ¸
            const data = teamData[key];
            document.getElementById('rpt-team-name').innerText = data.name;
            document.getElementById('rpt-stress-val').innerText = data.stress;
            document.getElementById('rpt-stress-val').style.color = data.stress > 80 ? '#FF6B6B' : (data.stress > 60 ? '#FF9F43' : '#2C3E50');
            document.getElementById('rpt-consult-val').innerText = data.consult;
            document.getElementById('rpt-sleep-val').innerText = data.sleep;
            document.getElementById('rpt-ai-comment').innerHTML = data.comment;

            // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
            updateTeamCharts(data.trend, data.keywords);
        };

        // ë©”ì¸ ì°¨íŠ¸ ê¸°ê°„ ë³€ê²½ ê¸°ëŠ¥
        window.updateMainChart = (period) => {
            if(!mainChart) return;
            mainChart.data.datasets[0].data = mainChartDataSets[period];
            mainChart.update();
        };

        function initCharts() {
            // 1. ë©”ì¸ ëŒ€ì‹œë³´ë“œ ì°¨íŠ¸
            const ctx1 = document.getElementById('mainChart').getContext('2d');
            mainChart = new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: ['ë§ˆì¼€íŒ… 1íŒ€', 'ë§ˆì¼€íŒ… 2íŒ€', 'ê°œë°œ AíŒ€', 'ê°œë°œ BíŒ€', 'ì¸ì‚¬íŒ€', 'ì˜ì—…íŒ€'],
                    datasets: [{
                        label: 'í‰ê·  ìŠ¤íŠ¸ë ˆìŠ¤',
                        data: mainChartDataSets['1m'], // ì´ˆê¸°ê°’ 1ê°œì›”
                        backgroundColor: (c) => c.raw > 80 ? '#FF6B6B' : (c.raw > 60 ? '#FF9F43' : '#4496F5'),
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: true, max: 100 } }
                }
            });

            // 2. ì‹œê°„ëŒ€ë³„ ì°¨íŠ¸
            const ctx2 = document.getElementById('timeChart').getContext('2d');
            timeChart = new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: ['9ì‹œ', '11ì‹œ', '13ì‹œ', '15ì‹œ', '17ì‹œ', '19ì‹œ', '21ì‹œ'],
                    datasets: [{
                        label: 'ìŠ¤íŠ¸ë ˆìŠ¤/í™œì„±ë„',
                        data: [40, 65, 50, 85, 70, 45, 30],
                        borderColor: '#6c5ce7',
                        backgroundColor: 'rgba(108, 92, 231, 0.1)',
                        fill: true, tension: 0.4
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { y: { display: false } }
                }
            });

            // 3. ë¦¬í¬íŠ¸ìš© ì´ˆê¸° ì°¨íŠ¸ (ë§ˆì¼€íŒ… 2íŒ€ ê¸°ì¤€)
            initReportCharts();
        }

        function initReportCharts() {
            const tCtx = document.getElementById('teamTrendChart').getContext('2d');
            teamTrendChart = new Chart(tCtx, {
                type: 'line',
                data: {
                    labels: ['1ì£¼ì°¨', '2ì£¼ì°¨', '3ì£¼ì°¨', '4ì£¼ì°¨'],
                    datasets: [{
                        label: 'ìŠ¤íŠ¸ë ˆìŠ¤ ì¶”ì´',
                        data: [72, 80, 85, 88],
                        borderColor: '#FF6B6B',
                        tension: 0.4
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { min: 0, max: 100 } } }
            });

            const kCtx = document.getElementById('teamKeywordChart').getContext('2d');
            teamKeywordChart = new Chart(kCtx, {
                type: 'bar',
                data: {
                    labels: ['ì—…ë¬´ëŸ‰', 'ê´€ê³„ ê°ˆë“±', 'ì•¼ê·¼/í”¼ë¡œ', 'ë³´ìƒ ë¶ˆë§Œ', 'ê°œì¸ì‚¬'],
                    datasets: [{
                        data: [30, 15, 45, 5, 5],
                        backgroundColor: ['#4496F5', '#74C0FC', '#A5D8FF', '#D0EBFF', '#E7F5FF'],
                        borderRadius: 4
                    }]
                },
                options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
            });
        }

        function updateTeamCharts(trendData, keywordData) {
            teamTrendChart.data.datasets[0].data = trendData;
            teamTrendChart.update();

            teamKeywordChart.data.datasets[0].data = keywordData;
            teamKeywordChart.update();
        }

    </script>
</body>
</html>
